<h1 id="cleardrop---掉落物清理插件">ClearDrop - 掉落物清理插件</h1>
<p>一個功能強大的 Minecraft 掉落物清理插件，支援 1.21-1.21.8 版本，具有
GUI 商店功能和完善的管理系統。</p>
<h2 id="功能特色">功能特色</h2>
<h3 id="自動清理系統">🧹 自動清理系統</h3>
<ul>
<li>可配置的清理間隔時間</li>
<li>多級警告系統（60秒、30秒、10秒、5秒前警告）</li>
<li>支援多世界清理</li>
<li>高性能異步清理</li>
<li>管理員強制清理功能</li>
</ul>
<h3 id="gui-商店系統">🛒 GUI 商店系統</h3>
<ul>
<li>被清理的掉落物自動進入商店</li>
<li>根據物品稀有度自動定價</li>
<li>完整的 GUI 界面</li>
<li>支援物品購買和管理</li>
<li>管理員一鍵清空商店</li>
</ul>
<h3 id="管理功能">⚙️ 管理功能</h3>
<ul>
<li>計時器開關控制</li>
<li>世界管理（添加/移除清理世界）</li>
<li>插件重載功能</li>
<li>詳細的狀態查看</li>
<li>完善的權限系統</li>
</ul>
<h3 id="性能優化">🚀 性能優化</h3>
<ul>
<li>異步處理，不影響伺服器性能</li>
<li>可配置的實體檢查限制</li>
<li>智能的清理算法</li>
<li>記憶體使用優化</li>
</ul>
<h2 id="安裝方法">安裝方法</h2>
<ol type="1">
<li>下載插件 jar 文件</li>
<li>將文件放入伺服器的 <code>plugins</code> 資料夾</li>
<li>重啟伺服器或使用 <code>/reload</code> 指令</li>
<li>插件會自動生成配置文件</li>
</ol>
<h2 id="指令說明">指令說明</h2>
<h3 id="主要指令">主要指令</h3>
<h4 id="cleardrop-別名-cd-drop"><code>/cleardrop</code> (別名:
<code>/cd</code>, <code>/drop</code>)</h4>
<p>管理員主指令，包含以下子指令：</p>
<ul>
<li><code>/cleardrop help</code> - 顯示幫助信息</li>
<li><code>/cleardrop clear</code> - 立即清理掉落物</li>
<li><code>/cleardrop timer &lt;start|stop|toggle|set&gt; [時間]</code> -
計時器管理</li>
<li><code>/cleardrop shop &lt;clear&gt;</code> - 商店管理</li>
<li><code>/cleardrop world &lt;add|remove|list&gt; [世界名]</code> -
世界管理</li>
<li><code>/cleardrop reload</code> - 重載插件</li>
<li><code>/cleardrop status</code> - 查看插件狀態</li>
<li><code>/cleardrop info</code> - 查看插件信息</li>
</ul>
<h4 id="dropshop-別名-ds-shop"><code>/dropshop</code> (別名:
<code>/ds</code>, <code>/shop</code>)</h4>
<p>商店相關指令：</p>
<ul>
<li><code>/dropshop</code> - 打開掉落物商店</li>
<li><code>/dropshop help</code> - 顯示商店幫助</li>
<li><code>/dropshop info</code> - 查看商店信息</li>
<li><code>/dropshop refresh</code> - 刷新商店</li>
</ul>
<h2 id="權限節點">權限節點</h2>
<table>
<thead>
<tr class="header">
<th>權限</th>
<th>描述</th>
<th>預設</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>cleardrop.admin</code></td>
<td>管理員權限</td>
<td>OP</td>
</tr>
<tr class="even">
<td><code>cleardrop.shop</code></td>
<td>使用商店權限</td>
<td>所有玩家</td>
</tr>
<tr class="odd">
<td><code>cleardrop.clear</code></td>
<td>強制清理權限</td>
<td>OP</td>
</tr>
<tr class="even">
<td><code>cleardrop.reload</code></td>
<td>重載插件權限</td>
<td>OP</td>
</tr>
</tbody>
</table>
<h2 id="配置文件">配置文件</h2>
<h3 id="config.yml">config.yml</h3>
<p>主要配置文件，包含以下設置：</p>
<div class="sourceCode" id="cb1"><pre
class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 清理設置</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">clear</span><span class="kw">:</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">interval</span><span class="kw">:</span><span class="at"> </span><span class="dv">300</span><span class="co">          # 清理間隔（秒）</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">warning-times</span><span class="kw">:</span><span class="at"> </span><span class="kw">[</span><span class="dv">60</span><span class="kw">,</span><span class="at"> </span><span class="dv">30</span><span class="kw">,</span><span class="at"> </span><span class="dv">10</span><span class="kw">,</span><span class="at"> </span><span class="dv">5</span><span class="kw">]</span><span class="co">  # 警告時間</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">auto-start</span><span class="kw">:</span><span class="at"> </span><span class="ch">true</span><span class="co">       # 自動啟動計時器</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">worlds</span><span class="kw">:</span><span class="at"> </span><span class="kw">[</span><span class="st">&quot;world&quot;</span><span class="kw">]</span><span class="co">      # 清理世界列表</span></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">add-to-shop</span><span class="kw">:</span><span class="at"> </span><span class="ch">true</span><span class="co">      # 是否添加到商店</span></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a><span class="co"># 商店設置</span></span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a><span class="fu">shop</span><span class="kw">:</span></span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">name</span><span class="kw">:</span><span class="at"> </span><span class="st">&quot;&amp;6&amp;l掉落物商店&quot;</span><span class="co">  # 商店名稱</span></span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">size</span><span class="kw">:</span><span class="at"> </span><span class="dv">54</span><span class="co">               # 商店大小</span></span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">enabled</span><span class="kw">:</span><span class="at"> </span><span class="ch">true</span><span class="co">          # 是否啟用商店</span></span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">prices</span><span class="kw">:</span><span class="co">                # 價格設置</span></span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">common</span><span class="kw">:</span><span class="at"> </span><span class="kw">{</span><span class="fu">min</span><span class="kw">:</span><span class="at"> </span><span class="dv">10</span><span class="kw">,</span><span class="at"> </span><span class="fu">max</span><span class="kw">:</span><span class="at"> </span><span class="dv">50</span><span class="kw">}</span></span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">uncommon</span><span class="kw">:</span><span class="at"> </span><span class="kw">{</span><span class="fu">min</span><span class="kw">:</span><span class="at"> </span><span class="dv">51</span><span class="kw">,</span><span class="at"> </span><span class="fu">max</span><span class="kw">:</span><span class="at"> </span><span class="dv">150</span><span class="kw">}</span></span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">rare</span><span class="kw">:</span><span class="at"> </span><span class="kw">{</span><span class="fu">min</span><span class="kw">:</span><span class="at"> </span><span class="dv">151</span><span class="kw">,</span><span class="at"> </span><span class="fu">max</span><span class="kw">:</span><span class="at"> </span><span class="dv">400</span><span class="kw">}</span></span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">epic</span><span class="kw">:</span><span class="at"> </span><span class="kw">{</span><span class="fu">min</span><span class="kw">:</span><span class="at"> </span><span class="dv">401</span><span class="kw">,</span><span class="at"> </span><span class="fu">max</span><span class="kw">:</span><span class="at"> </span><span class="dv">700</span><span class="kw">}</span></span>
<span id="cb1-19"><a href="#cb1-19" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">legendary</span><span class="kw">:</span><span class="at"> </span><span class="kw">{</span><span class="fu">min</span><span class="kw">:</span><span class="at"> </span><span class="dv">701</span><span class="kw">,</span><span class="at"> </span><span class="fu">max</span><span class="kw">:</span><span class="at"> </span><span class="dv">1000</span><span class="kw">}</span></span></code></pre></div>
<h3 id="shop.yml">shop.yml</h3>
<p>商店數據文件，自動生成和管理，包含： - 商店物品數據 - 統計信息 -
操作歷史</p>
<h2 id="物品稀有度分類">物品稀有度分類</h2>
<p>插件會根據以下規則自動判定物品稀有度：</p>
<ul>
<li><strong>普通 (Common)</strong>: 大部分基礎物品</li>
<li><strong>稀有 (Uncommon)</strong>: 鐵製品、紅石相關物品</li>
<li><strong>史詩 (Rare)</strong>: 鑽石製品、附魔書</li>
<li><strong>傳說 (Epic)</strong>: 下界之星、信標等稀有物品</li>
<li><strong>神話 (Legendary)</strong>: 龍蛋、終界之星等超稀有物品</li>
</ul>
<h2 id="使用範例">使用範例</h2>
<h3 id="基本使用">基本使用</h3>
<ol type="1">
<li>插件安裝後會自動開始清理計時器</li>
<li>玩家可以使用 <code>/dropshop</code> 打開商店查看被清理的物品</li>
<li>管理員可以使用 <code>/cleardrop status</code> 查看當前狀態</li>
</ol>
<h3 id="管理員操作">管理員操作</h3>
<pre><code># 立即清理掉落物
/cleardrop clear

# 設置清理間隔為5分鐘
/cleardrop timer set 300

# 添加新的清理世界
/cleardrop world add world_nether

# 清空商店
/cleardrop shop clear

# 重載配置
/cleardrop reload</code></pre>
<h2 id="經濟插件整合">經濟插件整合</h2>
<p>插件支援與經濟插件整合（需要 Vault）： - 自動扣除玩家金錢 -
支援多種經濟插件 - 可配置的價格系統</p>
<h2 id="性能說明">性能說明</h2>
<p>插件經過性能優化，包含以下特性： - 異步處理，不阻塞主線程 -
智能實體檢查，避免過度掃描 - 記憶體使用優化 - 可配置的性能參數</p>
<h2 id="故障排除">故障排除</h2>
<h3 id="常見問題">常見問題</h3>
<p><strong>Q: 插件無法啟動？</strong> A: 檢查伺服器版本是否為
1.21-1.21.8，確保沒有衝突的插件。</p>
<p><strong>Q: 商店無法打開？</strong> A: 檢查玩家是否有
<code>cleardrop.shop</code> 權限。</p>
<p><strong>Q: 清理功能不工作？</strong> A:
檢查配置文件中的世界列表是否正確，確保計時器已啟動。</p>
<p><strong>Q: 購買物品失敗？</strong> A: 確保已安裝經濟插件並正確配置
Vault。</p>
<h3 id="調試模式">調試模式</h3>
<p>在 <code>config.yml</code> 中啟用調試模式：</p>
<div class="sourceCode" id="cb3"><pre
class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">debug</span><span class="kw">:</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">enabled</span><span class="kw">:</span><span class="at"> </span><span class="ch">true</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">log-clear-details</span><span class="kw">:</span><span class="at"> </span><span class="ch">true</span></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">log-shop-operations</span><span class="kw">:</span><span class="at"> </span><span class="ch">true</span></span></code></pre></div>
<h2 id="更新日誌">更新日誌</h2>
<h3 id="v1.0.0">v1.0.0</h3>
<ul>
<li>初始版本發布</li>
<li>基本清理功能</li>
<li>GUI 商店系統</li>
<li>完整的管理指令</li>
<li>多世界支援</li>
<li>性能優化</li>
</ul>
<h2 id="支援">支援</h2>
<p>如果您遇到問題或有建議，請： 1. 檢查本文檔的故障排除部分 2.
查看伺服器控制台的錯誤信息 3. 確保插件版本與伺服器版本相容</p>
<h2 id="授權">授權</h2>
<p>本插件遵循 MIT 授權條款。</p>
<table>
<tbody>
<tr class="odd">
<td>此代碼由AI輔助編寫完成</td>
</tr>
<tr class="even">
<td>作為公益項目開放原代碼</td>
</tr>
</tbody>
</table>
<p><strong>ClearDrop v1.0.0</strong> - 專為 Minecraft 1.21-1.21.8
設計的高性能掉落物清理插件</p>
